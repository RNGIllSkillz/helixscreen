<?xml version="1.0"?>
<!-- Copyright (C) 2025-2026 356C LLC -->
<!-- SPDX-License-Identifier: GPL-3.0-or-later -->
<!-- Printer Manager Overlay - Shows printer identity, software versions, and hardware capabilities -->
<!-- Launched from home screen by tapping the printer image -->
<component>
  <overlay_panel name="printer_manager_panel" title="Printer Manager">
    <!-- Scrollable content area -->
    <lv_obj name="overlay_content" width="100%" flex_grow="1"
            style_pad_all="0" style_pad_gap="0" flex_flow="column" scrollable="true"
            style_bg_color="#screen_bg" style_bg_opa="255">

      <!-- ================================================================== -->
      <!-- SECTION 1: PRINTER IDENTITY -->
      <!-- ================================================================== -->
      <lv_obj width="100%" height="content" flex_flow="column"
              style_flex_cross_place="center" style_pad_top="#space_lg"
              style_pad_bottom="#space_md" style_pad_left="#space_lg"
              style_pad_right="#space_lg" style_pad_gap="#space_sm"
              scrollable="false" style_bg_opa="0" style_border_width="0">
        <!-- Printer image (source set programmatically) -->
        <lv_image name="pm_printer_image" width="200" height="200"
                  align="center" style_radius="16"/>
        <!-- Printer name -->
        <text_heading name="pm_printer_name" bind_text="printer_manager_name"
                      align="center"/>
        <!-- Printer model -->
        <text_body name="pm_printer_model" bind_text="printer_manager_model"
                   style_text_color="#text_secondary" align="center"/>
      </lv_obj>

      <!-- ================================================================== -->
      <!-- SECTION 2: SOFTWARE VERSIONS -->
      <!-- ================================================================== -->
      <setting_section_header title="SOFTWARE" title_tag="SOFTWARE" icon="info"/>
      <setting_info_row name="pm_row_klipper" label="Klipper" label_tag="Klipper" icon="toy_brick_outline">
        <text_muted name="value" bind_text="klipper_version"/>
      </setting_info_row>
      <setting_info_row name="pm_row_moonraker" label="Moonraker" label_tag="Moonraker" icon="toy_brick_outline">
        <text_muted name="value" bind_text="moonraker_version"/>
      </setting_info_row>
      <setting_info_row name="pm_row_helix" label="HelixScreen" label_tag="HelixScreen" icon="info">
        <text_muted name="value" bind_text="helix_version"/>
      </setting_info_row>

      <!-- ================================================================== -->
      <!-- SECTION 3: HARDWARE CAPABILITIES -->
      <!-- ================================================================== -->
      <setting_section_header title="CAPABILITIES" title_tag="CAPABILITIES" icon="wrench"/>
      <lv_obj width="100%" height="content" flex_flow="row_wrap"
              style_pad_left="#space_lg" style_pad_right="#space_lg" style_pad_gap="#space_sm"
              style_pad_top="#space_sm" style_pad_bottom="#space_lg"
              scrollable="false" style_bg_opa="0" style_border_width="0">

        <!-- Probe -->
        <lv_obj width="content" height="content" style_bg_color="#card_bg" style_bg_opa="255"
                style_radius="16" style_pad_top="#space_xs" style_pad_bottom="#space_xs"
                style_pad_left="#space_sm" style_pad_right="#space_sm"
                flex_flow="row" style_pad_gap="#space_xs" style_flex_cross_place="center"
                scrollable="false" style_border_width="0">
          <bind_flag_if_eq subject="printer_has_probe" flag="hidden" ref_value="0"/>
          <icon src="target" size="xs" variant="success"/>
          <text_small text="Probe"/>
        </lv_obj>

        <!-- Bed Mesh -->
        <lv_obj width="content" height="content" style_bg_color="#card_bg" style_bg_opa="255"
                style_radius="16" style_pad_top="#space_xs" style_pad_bottom="#space_xs"
                style_pad_left="#space_sm" style_pad_right="#space_sm"
                flex_flow="row" style_pad_gap="#space_xs" style_flex_cross_place="center"
                scrollable="false" style_border_width="0">
          <bind_flag_if_eq subject="printer_has_bed_mesh" flag="hidden" ref_value="0"/>
          <icon src="grid_large" size="xs" variant="success"/>
          <text_small text="Bed Mesh"/>
        </lv_obj>

        <!-- Heated Bed -->
        <lv_obj width="content" height="content" style_bg_color="#card_bg" style_bg_opa="255"
                style_radius="16" style_pad_top="#space_xs" style_pad_bottom="#space_xs"
                style_pad_left="#space_sm" style_pad_right="#space_sm"
                flex_flow="row" style_pad_gap="#space_xs" style_flex_cross_place="center"
                scrollable="false" style_border_width="0">
          <bind_flag_if_eq subject="printer_has_heater_bed" flag="hidden" ref_value="0"/>
          <icon src="radiator" size="xs" variant="success"/>
          <text_small text="Heated Bed"/>
        </lv_obj>

        <!-- LEDs -->
        <lv_obj width="content" height="content" style_bg_color="#card_bg" style_bg_opa="255"
                style_radius="16" style_pad_top="#space_xs" style_pad_bottom="#space_xs"
                style_pad_left="#space_sm" style_pad_right="#space_sm"
                flex_flow="row" style_pad_gap="#space_xs" style_flex_cross_place="center"
                scrollable="false" style_border_width="0">
          <bind_flag_if_eq subject="printer_has_led" flag="hidden" ref_value="0"/>
          <icon src="lightbulb_on" size="xs" variant="success"/>
          <text_small text="LEDs"/>
        </lv_obj>

        <!-- ADXL -->
        <lv_obj width="content" height="content" style_bg_color="#card_bg" style_bg_opa="255"
                style_radius="16" style_pad_top="#space_xs" style_pad_bottom="#space_xs"
                style_pad_left="#space_sm" style_pad_right="#space_sm"
                flex_flow="row" style_pad_gap="#space_xs" style_flex_cross_place="center"
                scrollable="false" style_border_width="0">
          <bind_flag_if_eq subject="printer_has_accelerometer" flag="hidden" ref_value="0"/>
          <icon src="vibrate" size="xs" variant="success"/>
          <text_small text="ADXL"/>
        </lv_obj>

        <!-- QGL -->
        <lv_obj width="content" height="content" style_bg_color="#card_bg" style_bg_opa="255"
                style_radius="16" style_pad_top="#space_xs" style_pad_bottom="#space_xs"
                style_pad_left="#space_sm" style_pad_right="#space_sm"
                flex_flow="row" style_pad_gap="#space_xs" style_flex_cross_place="center"
                scrollable="false" style_border_width="0">
          <bind_flag_if_eq subject="printer_has_qgl" flag="hidden" ref_value="0"/>
          <icon src="tune_vertical_variant" size="xs" variant="success"/>
          <text_small text="QGL"/>
        </lv_obj>

        <!-- Z-Tilt -->
        <lv_obj width="content" height="content" style_bg_color="#card_bg" style_bg_opa="255"
                style_radius="16" style_pad_top="#space_xs" style_pad_bottom="#space_xs"
                style_pad_left="#space_sm" style_pad_right="#space_sm"
                flex_flow="row" style_pad_gap="#space_xs" style_flex_cross_place="center"
                scrollable="false" style_border_width="0">
          <bind_flag_if_eq subject="printer_has_z_tilt" flag="hidden" ref_value="0"/>
          <icon src="swap_vertical" size="xs" variant="success"/>
          <text_small text="Z-Tilt"/>
        </lv_obj>

        <!-- Firmware Retraction -->
        <lv_obj width="content" height="content" style_bg_color="#card_bg" style_bg_opa="255"
                style_radius="16" style_pad_top="#space_xs" style_pad_bottom="#space_xs"
                style_pad_left="#space_sm" style_pad_right="#space_sm"
                flex_flow="row" style_pad_gap="#space_xs" style_flex_cross_place="center"
                scrollable="false" style_border_width="0">
          <bind_flag_if_eq subject="printer_has_firmware_retraction" flag="hidden" ref_value="0"/>
          <icon src="arrow_up_right" size="xs" variant="success"/>
          <text_small text="Retraction"/>
        </lv_obj>

        <!-- Spoolman -->
        <lv_obj width="content" height="content" style_bg_color="#card_bg" style_bg_opa="255"
                style_radius="16" style_pad_top="#space_xs" style_pad_bottom="#space_xs"
                style_pad_left="#space_sm" style_pad_right="#space_sm"
                flex_flow="row" style_pad_gap="#space_xs" style_flex_cross_place="center"
                scrollable="false" style_border_width="0">
          <bind_flag_if_eq subject="printer_has_spoolman" flag="hidden" ref_value="0"/>
          <icon src="database" size="xs" variant="success"/>
          <text_small text="Spoolman"/>
        </lv_obj>

        <!-- Timelapse -->
        <lv_obj width="content" height="content" style_bg_color="#card_bg" style_bg_opa="255"
                style_radius="16" style_pad_top="#space_xs" style_pad_bottom="#space_xs"
                style_pad_left="#space_sm" style_pad_right="#space_sm"
                flex_flow="row" style_pad_gap="#space_xs" style_flex_cross_place="center"
                scrollable="false" style_border_width="0">
          <bind_flag_if_eq subject="printer_has_timelapse" flag="hidden" ref_value="0"/>
          <icon src="camera_timer" size="xs" variant="success"/>
          <text_small text="Timelapse"/>
        </lv_obj>

        <!-- Screws Tilt -->
        <lv_obj width="content" height="content" style_bg_color="#card_bg" style_bg_opa="255"
                style_radius="16" style_pad_top="#space_xs" style_pad_bottom="#space_xs"
                style_pad_left="#space_sm" style_pad_right="#space_sm"
                flex_flow="row" style_pad_gap="#space_xs" style_flex_cross_place="center"
                scrollable="false" style_border_width="0">
          <bind_flag_if_eq subject="printer_has_screws_tilt" flag="hidden" ref_value="0"/>
          <icon src="rotate_left" size="xs" variant="success"/>
          <text_small text="Screws Tilt"/>
        </lv_obj>

        <!-- Webcam -->
        <lv_obj width="content" height="content" style_bg_color="#card_bg" style_bg_opa="255"
                style_radius="16" style_pad_top="#space_xs" style_pad_bottom="#space_xs"
                style_pad_left="#space_sm" style_pad_right="#space_sm"
                flex_flow="row" style_pad_gap="#space_xs" style_flex_cross_place="center"
                scrollable="false" style_border_width="0">
          <bind_flag_if_eq subject="printer_has_webcam" flag="hidden" ref_value="0"/>
          <icon src="video" size="xs" variant="success"/>
          <text_small text="Webcam"/>
        </lv_obj>

      </lv_obj>

      <!-- Bottom padding for scroll -->
      <lv_obj width="100%" height="#space_lg" scrollable="false"/>
    </lv_obj>
  </overlay_panel>
</component>
